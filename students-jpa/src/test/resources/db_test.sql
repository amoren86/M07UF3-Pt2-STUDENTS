CREATE TABLE IF NOT EXISTS students (dni VARCHAR(9) NOT NULL PRIMARY KEY, name VARCHAR(200) NOT NULL, surname VARCHAR(200) NOT NULL, email VARCHAR(200) DEFAULT NULL);
CREATE TABLE IF NOT EXISTS cycles (code VARCHAR(10) NOT NULL PRIMARY KEY, name VARCHAR(255) NOT NULL);
CREATE TABLE IF NOT EXISTS modules (code VARCHAR(10) NOT NULL, cycle_code VARCHAR(10) NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY (code, cycle_code), CONSTRAINT fk_cycle_code FOREIGN KEY (cycle_code) REFERENCES cycles (code));
CREATE TABLE IF NOT EXISTS modules_students (module_code VARCHAR(10) NOT NULL, module_cycle_code VARCHAR(10) NOT NULL, student_dni VARCHAR(9) NOT NULL, PRIMARY KEY (module_code, module_cycle_code, student_dni), CONSTRAINT fk_module_code_module_cycle_code FOREIGN KEY (module_code, module_cycle_code) REFERENCES modules (code, cycle_code), CONSTRAINT fk_student_dni FOREIGN KEY (student_dni) REFERENCES students (dni));
DELETE FROM modules_students;
DELETE FROM modules;
DELETE FROM cycles;
DELETE FROM students;
INSERT INTO cycles (code, name) VALUES ('ASIX', 'Administració de Sistemes Informàtics en Xarxa');
INSERT INTO cycles (code, name) VALUES ('DAM', 'Desenvolupament d''Aplicacions Multiplataforma');
INSERT INTO cycles (code, name) VALUES ('DAW', 'Desenvolupament d''Aplicacions Web');
INSERT INTO modules (code, cycle_code, name) VALUES ('M01', 'ASIX', 'Implantació de sistemes operatius');
INSERT INTO modules (code, cycle_code, name) VALUES ('M02', 'ASIX', 'Gestió de bases de dades');
INSERT INTO modules (code, cycle_code, name) VALUES ('M03', 'ASIX', 'Programació bàsica');
INSERT INTO modules (code, cycle_code, name) VALUES ('M04', 'ASIX', 'Llenguatges de marques i sistemes de gestió d''informació');
INSERT INTO modules (code, cycle_code, name) VALUES ('M05', 'ASIX', 'Fonaments de maquinari');
INSERT INTO modules (code, cycle_code, name) VALUES ('M06', 'ASIX', 'Administració de sistemes operatius');
INSERT INTO modules (code, cycle_code, name) VALUES ('M07', 'ASIX', 'Planificació i administració de xarxes');
INSERT INTO modules (code, cycle_code, name) VALUES ('M08', 'ASIX', 'Serveis de xarxa i Internet');
INSERT INTO modules (code, cycle_code, name) VALUES ('M09', 'ASIX', 'Implantació d''aplicacions web');
INSERT INTO modules (code, cycle_code, name) VALUES ('M10', 'ASIX', 'Administració de sistemes gestors de bases de dades');
INSERT INTO modules (code, cycle_code, name) VALUES ('M11', 'ASIX', 'Seguretat i alta disponibilitat');
INSERT INTO modules (code, cycle_code, name) VALUES ('M12', 'ASIX', 'Formació i orientació laboral');
INSERT INTO modules (code, cycle_code, name) VALUES ('M13', 'ASIX', 'Empresa i iniciativa emprenedora');
INSERT INTO modules (code, cycle_code, name) VALUES ('M14', 'ASIX', 'Projecte d''administració de sistemes informàtics en xarxa');
INSERT INTO modules (code, cycle_code, name) VALUES ('M15', 'ASIX', 'Formació en centres de treball');
INSERT INTO modules (code, cycle_code, name) VALUES ('M01', 'DAM', 'Sistemes informàtics');
INSERT INTO modules (code, cycle_code, name) VALUES ('M02', 'DAM', 'Bases de dades');
INSERT INTO modules (code, cycle_code, name) VALUES ('M03', 'DAM', 'Programació');
INSERT INTO modules (code, cycle_code, name) VALUES ('M04', 'DAM', 'Llenguatges de marques i sistemes de gestió d''informació');
INSERT INTO modules (code, cycle_code, name) VALUES ('M05', 'DAM', 'Entorns de desenvolupament');
INSERT INTO modules (code, cycle_code, name) VALUES ('M06', 'DAM', 'Accés a dades');
INSERT INTO modules (code, cycle_code, name) VALUES ('M07', 'DAM', 'Desenvolupament d''interfícies');
INSERT INTO modules (code, cycle_code, name) VALUES ('M08', 'DAM', 'Programació multimèdia i dispositius mòbils');
INSERT INTO modules (code, cycle_code, name) VALUES ('M09', 'DAM', 'Programació de serveis i processos');
INSERT INTO modules (code, cycle_code, name) VALUES ('M10', 'DAM', 'Sistemes de gestió empresarial');
INSERT INTO modules (code, cycle_code, name) VALUES ('M11', 'DAM', 'Formació i orientació laboral');
INSERT INTO modules (code, cycle_code, name) VALUES ('M12', 'DAM', 'Empresa i iniciativa emprenedora');
INSERT INTO modules (code, cycle_code, name) VALUES ('M13', 'DAM', 'Projecte de desenvolupament d''aplicacions multiplataforma');
INSERT INTO modules (code, cycle_code, name) VALUES ('M14', 'DAW', 'Formació en centres de treball');
INSERT INTO students (dni, name, surname, email) VALUES ('31415926A', 'Ada', 'Lovelace', 'ada@lovelace.was');
INSERT INTO students (dni, name, surname, email) VALUES ('27182818B', 'Alan', 'Turing', 'alan@turing.uk');
INSERT INTO modules_students (module_code, module_cycle_code, student_dni) VALUES ('M01', 'DAW', '31415926A');
INSERT INTO modules_students (module_code, module_cycle_code, student_dni) VALUES ('M02', 'DAW', '31415926A');
INSERT INTO modules_students (module_code, module_cycle_code, student_dni) VALUES ('M01', 'DAW', '27182818B');
INSERT INTO modules_students (module_code, module_cycle_code, student_dni) VALUES ('M03', 'DAW', '27182818B');
INSERT INTO modules_students (module_code, module_cycle_code, student_dni) VALUES ('M04', 'DAW', '27182818B');
